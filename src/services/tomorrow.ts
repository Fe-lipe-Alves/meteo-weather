import { CurrentModel } from '@/models/CurrentModel'
import { HourModel } from '@/models/HourModel'
import { DayModel } from '@/models/DayModel'
import moment from 'moment/moment'
import type { TimelineType } from '@/types/TimelineType'
import type { IntervalType } from '@/types/IntervalType'

const timelinesURL = 'https://api.tomorrow.io/v4/timelines'
const apiKey = 'woUIhYHlbBiFaLX311Rv8NU0QmXC0MsP'
const fields = [
  'cloudCover',
  'humidity',
  'precipitationIntensity',
  'precipitationProbability',
  'precipitationType',
  'sunriseTime',
  'sunsetTime',
  'temperature',
  'temperatureApparent',
  'temperatureMax',
  'temperatureMin',
  'weatherCode',
  'windDirection',
  'windGust',
  'windSpeed'
]

const requestOptions: RequestInit = {
  method: 'GET',
  redirect: 'follow'
}

async function request(latitude: number, longitude: number, timezone: string) {
  const options = {
    location: latitude + ',' + longitude,
    fields: fields.join(','),
    startTime: moment().format('YYYY-MM-DDTHH:mm:ssZ'),
    endTime: moment().add(5, 'days').subtract(1, 'hour').format('YYYY-MM-DDTHH:mm:ssZ'),
    timesteps: '1h,1d,current',
    units: 'metric',
    timezone: timezone,
    apikey: apiKey
  }

  const queryString = new URLSearchParams(options).toString()

  return await fetch(timelinesURL + '?' + queryString, requestOptions)
    .then((response) => response.json())
    .catch((error) => {
      throw error
    })
}

function flatten(obj: any) {
  return { ...obj.values, startTime: obj.startTime }
}

export async function getForecastData(latitude: number, longitude: number, timezone: string) {
  const response = await request(latitude, longitude, timezone)
  // const response = JSON.parse('{"data":{"timelines":[{"timestep":"1d","endTime":"2023-07-17T06:00:00-03:00","startTime":"2023-07-12T06:00:00-03:00","intervals":[{"startTime":"2023-07-12T06:00:00-03:00","values":{"cloudCover":100,"humidity":97.93,"precipitationIntensity":3.97,"precipitationProbability":28,"precipitationType":1,"sunriseTime":"2023-07-12T10:03:00Z","sunsetTime":"2023-07-12T21:04:00Z","temperature":32.63,"temperatureApparent":31.18,"temperatureMax":32.63,"temperatureMin":14.81,"weatherCode":1000,"windDirection":268.76,"windGust":21.12,"windSpeed":9.36}},{"startTime":"2023-07-13T06:00:00-03:00","values":{"cloudCover":100,"humidity":96.89,"precipitationIntensity":0.09,"precipitationProbability":15,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":19.93,"temperatureApparent":19.93,"temperatureMax":19.93,"temperatureMin":6.55,"weatherCode":1001,"windDirection":224.15,"windGust":12.11,"windSpeed":6.51}},{"startTime":"2023-07-14T06:00:00-03:00","values":{"cloudCover":20.89,"humidity":98.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":18.02,"temperatureApparent":18.02,"temperatureMax":18.02,"temperatureMin":5.47,"weatherCode":1000,"windDirection":150.5,"windGust":6.37,"windSpeed":3.23}},{"startTime":"2023-07-15T06:00:00-03:00","values":{"cloudCover":94.25,"humidity":85.43,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":20.72,"temperatureApparent":20.72,"temperatureMax":20.72,"temperatureMin":9.05,"weatherCode":1000,"windDirection":93.43,"windGust":7.78,"windSpeed":3.19}},{"startTime":"2023-07-16T06:00:00-03:00","values":{"cloudCover":100,"humidity":64.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":23.82,"temperatureApparent":23.82,"temperatureMax":23.82,"temperatureMin":14.74,"weatherCode":1001,"windDirection":103.45,"windGust":2.86,"windSpeed":2.09}},{"startTime":"2023-07-17T06:00:00-03:00","values":{"cloudCover":58.32,"humidity":68.34,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":28.14,"temperatureApparent":27.62,"temperatureMax":28.14,"temperatureMin":14.21,"weatherCode":1100,"windDirection":119.47,"windGust":3.78,"windSpeed":2.73}}]},{"timestep":"1h","endTime":"2023-07-17T22:00:00-03:00","startTime":"2023-07-12T23:00:00-03:00","intervals":[{"startTime":"2023-07-12T23:00:00-03:00","values":{"cloudCover":54,"humidity":55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-12T10:03:00Z","sunsetTime":"2023-07-12T21:04:00Z","temperature":23.31,"temperatureApparent":23.31,"temperatureMax":23.31,"temperatureMin":23.31,"weatherCode":1101,"windDirection":334.13,"windGust":11.88,"windSpeed":3.69}},{"startTime":"2023-07-13T00:00:00-03:00","values":{"cloudCover":53.6,"humidity":88.35,"precipitationIntensity":2.39,"precipitationProbability":28,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":21.05,"temperatureApparent":21.05,"temperatureMax":21.05,"temperatureMin":21.05,"weatherCode":4200,"windDirection":230.02,"windGust":15.53,"windSpeed":6.66}},{"startTime":"2023-07-13T01:00:00-03:00","values":{"cloudCover":100,"humidity":85.31,"precipitationIntensity":3.97,"precipitationProbability":23,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.98,"temperatureApparent":18.98,"temperatureMax":18.98,"temperatureMin":18.98,"weatherCode":4001,"windDirection":281.95,"windGust":21.12,"windSpeed":9.36}},{"startTime":"2023-07-13T02:00:00-03:00","values":{"cloudCover":100,"humidity":91.22,"precipitationIntensity":0.15,"precipitationProbability":16,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.99,"temperatureApparent":18.99,"temperatureMax":18.99,"temperatureMin":18.99,"weatherCode":1001,"windDirection":266.71,"windGust":10.75,"windSpeed":3.39}},{"startTime":"2023-07-13T03:00:00-03:00","values":{"cloudCover":18.81,"humidity":94.05,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.53,"temperatureApparent":18.53,"temperatureMax":18.53,"temperatureMin":18.53,"weatherCode":1100,"windDirection":272.15,"windGust":6.88,"windSpeed":2.55}},{"startTime":"2023-07-13T04:00:00-03:00","values":{"cloudCover":100,"humidity":95.49,"precipitationIntensity":3.74,"precipitationProbability":15,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.81,"temperatureApparent":18.81,"temperatureMax":18.81,"temperatureMin":18.81,"weatherCode":4001,"windDirection":251.13,"windGust":9.01,"windSpeed":3.36}},{"startTime":"2023-07-13T05:00:00-03:00","values":{"cloudCover":100,"humidity":97.93,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":19.43,"temperatureApparent":19.43,"temperatureMax":19.43,"temperatureMin":19.43,"weatherCode":1001,"windDirection":211.79,"windGust":11.07,"windSpeed":4.93}},{"startTime":"2023-07-13T06:00:00-03:00","values":{"cloudCover":35.88,"humidity":92.49,"precipitationIntensity":0,"precipitationProbability":10,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.05,"temperatureApparent":18.05,"temperatureMax":18.05,"temperatureMin":18.05,"weatherCode":1100,"windDirection":220.59,"windGust":11.91,"windSpeed":4.84}},{"startTime":"2023-07-13T07:00:00-03:00","values":{"cloudCover":79,"humidity":91.3,"precipitationIntensity":0,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.58,"temperatureApparent":16.58,"temperatureMax":16.58,"temperatureMin":16.58,"weatherCode":1001,"windDirection":215.32,"windGust":11.05,"windSpeed":5.54}},{"startTime":"2023-07-13T08:00:00-03:00","values":{"cloudCover":100,"humidity":92.34,"precipitationIntensity":0,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.78,"temperatureApparent":16.78,"temperatureMax":16.78,"temperatureMin":16.78,"weatherCode":1001,"windDirection":216.4,"windGust":8.96,"windSpeed":4.82}},{"startTime":"2023-07-13T09:00:00-03:00","values":{"cloudCover":100,"humidity":84.1,"precipitationIntensity":0.01,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.41,"temperatureApparent":16.41,"temperatureMax":16.41,"temperatureMin":16.41,"weatherCode":1001,"windDirection":202.76,"windGust":6.54,"windSpeed":4.71}},{"startTime":"2023-07-13T10:00:00-03:00","values":{"cloudCover":100,"humidity":86.27,"precipitationIntensity":0.01,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.44,"temperatureApparent":16.44,"temperatureMax":16.44,"temperatureMin":16.44,"weatherCode":1001,"windDirection":220.94,"windGust":6.45,"windSpeed":4.33}},{"startTime":"2023-07-13T11:00:00-03:00","values":{"cloudCover":41.9,"humidity":69.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":18.12,"temperatureApparent":18.12,"temperatureMax":18.12,"temperatureMin":18.12,"weatherCode":1101,"windDirection":216.49,"windGust":8.95,"windSpeed":5.39}},{"startTime":"2023-07-13T12:00:00-03:00","values":{"cloudCover":38.75,"humidity":61.18,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":19.41,"temperatureApparent":19.41,"temperatureMax":19.41,"temperatureMin":19.41,"weatherCode":1101,"windDirection":224.29,"windGust":7.65,"windSpeed":5.32}},{"startTime":"2023-07-13T13:00:00-03:00","values":{"cloudCover":83.25,"humidity":61.45,"precipitationIntensity":0,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":19.02,"temperatureApparent":19.02,"temperatureMax":19.02,"temperatureMin":19.02,"weatherCode":1001,"windDirection":226.34,"windGust":6.29,"windSpeed":4.65}},{"startTime":"2023-07-13T14:00:00-03:00","values":{"cloudCover":100,"humidity":51.44,"precipitationIntensity":0.09,"precipitationProbability":5,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":19.93,"temperatureApparent":19.93,"temperatureMax":19.93,"temperatureMin":19.93,"weatherCode":1001,"windDirection":230.82,"windGust":8.98,"windSpeed":6.51}},{"startTime":"2023-07-13T15:00:00-03:00","values":{"cloudCover":100,"humidity":60.79,"precipitationIntensity":0,"precipitationProbability":10,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":17.36,"temperatureApparent":17.36,"temperatureMax":17.36,"temperatureMin":17.36,"weatherCode":1001,"windDirection":254.22,"windGust":9.86,"windSpeed":5.39}},{"startTime":"2023-07-13T16:00:00-03:00","values":{"cloudCover":100,"humidity":60.68,"precipitationIntensity":0.05,"precipitationProbability":10,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.96,"temperatureApparent":16.96,"temperatureMax":16.96,"temperatureMin":16.96,"weatherCode":1001,"windDirection":239.74,"windGust":9.9,"windSpeed":5.15}},{"startTime":"2023-07-13T17:00:00-03:00","values":{"cloudCover":100,"humidity":65.37,"precipitationIntensity":0,"precipitationProbability":15,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.52,"temperatureApparent":16.52,"temperatureMax":16.52,"temperatureMin":16.52,"weatherCode":1001,"windDirection":250.05,"windGust":8.95,"windSpeed":3.58}},{"startTime":"2023-07-13T18:00:00-03:00","values":{"cloudCover":100,"humidity":65.84,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":16.17,"temperatureApparent":16.17,"temperatureMax":16.17,"temperatureMin":16.17,"weatherCode":1001,"windDirection":238.25,"windGust":10.43,"windSpeed":4.32}},{"startTime":"2023-07-13T19:00:00-03:00","values":{"cloudCover":100,"humidity":64.16,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":15.44,"temperatureApparent":15.44,"temperatureMax":15.44,"temperatureMin":15.44,"weatherCode":1001,"windDirection":237.6,"windGust":10.76,"windSpeed":3.97}},{"startTime":"2023-07-13T20:00:00-03:00","values":{"cloudCover":7.98,"humidity":67.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":13.98,"temperatureApparent":13.98,"temperatureMax":13.98,"temperatureMin":13.98,"weatherCode":1000,"windDirection":229.95,"windGust":11.35,"windSpeed":3.94}},{"startTime":"2023-07-13T21:00:00-03:00","values":{"cloudCover":0,"humidity":73.81,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":12.26,"temperatureApparent":12.26,"temperatureMax":12.26,"temperatureMin":12.26,"weatherCode":1000,"windDirection":229.04,"windGust":12.11,"windSpeed":3.7}},{"startTime":"2023-07-13T22:00:00-03:00","values":{"cloudCover":2.01,"humidity":77.24,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":11.36,"temperatureApparent":11.36,"temperatureMax":11.36,"temperatureMin":11.36,"weatherCode":1000,"windDirection":231.16,"windGust":11.25,"windSpeed":3.57}},{"startTime":"2023-07-13T23:00:00-03:00","values":{"cloudCover":5.15,"humidity":80.96,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-13T10:03:00Z","sunsetTime":"2023-07-13T21:04:00Z","temperature":10.64,"temperatureApparent":10.64,"temperatureMax":10.64,"temperatureMin":10.64,"weatherCode":1000,"windDirection":224.48,"windGust":11.11,"windSpeed":3.64}},{"startTime":"2023-07-14T00:00:00-03:00","values":{"cloudCover":12.2,"humidity":85.46,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":9.88,"temperatureApparent":9.88,"temperatureMax":9.88,"temperatureMin":9.88,"weatherCode":1100,"windDirection":220.28,"windGust":10.55,"windSpeed":3.29}},{"startTime":"2023-07-14T01:00:00-03:00","values":{"cloudCover":16.18,"humidity":88.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":9.34,"temperatureApparent":9.34,"temperatureMax":9.34,"temperatureMin":9.34,"weatherCode":1100,"windDirection":210.15,"windGust":9.07,"windSpeed":3.03}},{"startTime":"2023-07-14T02:00:00-03:00","values":{"cloudCover":16.87,"humidity":92.52,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":8.55,"temperatureApparent":8.55,"temperatureMax":8.55,"temperatureMin":8.55,"weatherCode":1100,"windDirection":210.7,"windGust":6.09,"windSpeed":2.51}},{"startTime":"2023-07-14T03:00:00-03:00","values":{"cloudCover":6.9,"humidity":95.15,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":7.78,"temperatureApparent":7.78,"temperatureMax":7.78,"temperatureMin":7.78,"weatherCode":1000,"windDirection":218.67,"windGust":7.95,"windSpeed":2.46}},{"startTime":"2023-07-14T04:00:00-03:00","values":{"cloudCover":5.51,"humidity":96.03,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":7.2,"temperatureApparent":7.2,"temperatureMax":7.2,"temperatureMin":7.2,"weatherCode":1000,"windDirection":207.61,"windGust":9.03,"windSpeed":2.41}},{"startTime":"2023-07-14T05:00:00-03:00","values":{"cloudCover":7.32,"humidity":96.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":6.55,"temperatureApparent":6.55,"temperatureMax":6.55,"temperatureMin":6.55,"weatherCode":1000,"windDirection":200.29,"windGust":6.15,"windSpeed":2.34}},{"startTime":"2023-07-14T06:00:00-03:00","values":{"cloudCover":5.2,"humidity":97.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":5.95,"temperatureApparent":5.95,"temperatureMax":5.95,"temperatureMin":5.95,"weatherCode":1000,"windDirection":204.13,"windGust":4.46,"windSpeed":2.25}},{"startTime":"2023-07-14T07:00:00-03:00","values":{"cloudCover":12.76,"humidity":98.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":5.47,"temperatureApparent":5.47,"temperatureMax":5.47,"temperatureMin":5.47,"weatherCode":1100,"windDirection":197.66,"windGust":4.14,"windSpeed":2.15}},{"startTime":"2023-07-14T08:00:00-03:00","values":{"cloudCover":16.07,"humidity":90.84,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":7.98,"temperatureApparent":7.98,"temperatureMax":7.98,"temperatureMin":7.98,"weatherCode":1100,"windDirection":183.44,"windGust":5.78,"windSpeed":2.05}},{"startTime":"2023-07-14T09:00:00-03:00","values":{"cloudCover":19.39,"humidity":78.22,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":10.73,"temperatureApparent":10.73,"temperatureMax":10.73,"temperatureMin":10.73,"weatherCode":1100,"windDirection":171.3,"windGust":6.37,"windSpeed":3.02}},{"startTime":"2023-07-14T10:00:00-03:00","values":{"cloudCover":19.02,"humidity":65.95,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":12.75,"temperatureApparent":12.75,"temperatureMax":12.75,"temperatureMin":12.75,"weatherCode":1100,"windDirection":153.44,"windGust":5.23,"windSpeed":3.23}},{"startTime":"2023-07-14T11:00:00-03:00","values":{"cloudCover":20.89,"humidity":56.23,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":14.41,"temperatureApparent":14.41,"temperatureMax":14.41,"temperatureMin":14.41,"weatherCode":1100,"windDirection":151.14,"windGust":4.71,"windSpeed":2.75}},{"startTime":"2023-07-14T12:00:00-03:00","values":{"cloudCover":0,"humidity":57.72,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":15.79,"temperatureApparent":15.79,"temperatureMax":15.79,"temperatureMin":15.79,"weatherCode":1000,"windDirection":149.5,"windGust":5.48,"windSpeed":1.68}},{"startTime":"2023-07-14T13:00:00-03:00","values":{"cloudCover":0,"humidity":53.72,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":16.89,"temperatureApparent":16.89,"temperatureMax":16.89,"temperatureMin":16.89,"weatherCode":1000,"windDirection":148.2,"windGust":5.11,"windSpeed":1.44}},{"startTime":"2023-07-14T14:00:00-03:00","values":{"cloudCover":0,"humidity":50.68,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":17.63,"temperatureApparent":17.63,"temperatureMax":17.63,"temperatureMin":17.63,"weatherCode":1000,"windDirection":157.3,"windGust":4.83,"windSpeed":1.36}},{"startTime":"2023-07-14T15:00:00-03:00","values":{"cloudCover":0,"humidity":48.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":18.02,"temperatureApparent":18.02,"temperatureMax":18.02,"temperatureMin":18.02,"weatherCode":1000,"windDirection":158.44,"windGust":4.86,"windSpeed":1.56}},{"startTime":"2023-07-14T16:00:00-03:00","values":{"cloudCover":0,"humidity":48.72,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":17.83,"temperatureApparent":17.83,"temperatureMax":17.83,"temperatureMin":17.83,"weatherCode":1000,"windDirection":155.9,"windGust":4.45,"windSpeed":1.66}},{"startTime":"2023-07-14T17:00:00-03:00","values":{"cloudCover":0,"humidity":52.19,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":17.1,"temperatureApparent":17.1,"temperatureMax":17.1,"temperatureMin":17.1,"weatherCode":1000,"windDirection":154.16,"windGust":2.7,"windSpeed":1.33}},{"startTime":"2023-07-14T18:00:00-03:00","values":{"cloudCover":0,"humidity":56.76,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":15.87,"temperatureApparent":15.87,"temperatureMax":15.87,"temperatureMin":15.87,"weatherCode":1000,"windDirection":150,"windGust":1.87,"windSpeed":1.42}},{"startTime":"2023-07-14T19:00:00-03:00","values":{"cloudCover":0,"humidity":55.04,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":15.68,"temperatureApparent":15.68,"temperatureMax":15.68,"temperatureMin":15.68,"weatherCode":1000,"windDirection":200.46,"windGust":1.37,"windSpeed":0.47}},{"startTime":"2023-07-14T20:00:00-03:00","values":{"cloudCover":0,"humidity":53.7,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":15.49,"temperatureApparent":15.49,"temperatureMax":15.49,"temperatureMin":15.49,"weatherCode":1000,"windDirection":351.33,"windGust":1.02,"windSpeed":0.6}},{"startTime":"2023-07-14T21:00:00-03:00","values":{"cloudCover":0,"humidity":55.04,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":15.23,"temperatureApparent":15.23,"temperatureMax":15.23,"temperatureMin":15.23,"weatherCode":1000,"windDirection":91.94,"windGust":1.79,"windSpeed":1.25}},{"startTime":"2023-07-14T22:00:00-03:00","values":{"cloudCover":0,"humidity":75.98,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":11.77,"temperatureApparent":11.77,"temperatureMax":11.77,"temperatureMin":11.77,"weatherCode":1000,"windDirection":130.81,"windGust":2.76,"windSpeed":2.13}},{"startTime":"2023-07-14T23:00:00-03:00","values":{"cloudCover":0,"humidity":77.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T10:03:00Z","sunsetTime":"2023-07-14T21:04:00Z","temperature":12.35,"temperatureApparent":12.35,"temperatureMax":12.35,"temperatureMin":12.35,"weatherCode":1000,"windDirection":154.89,"windGust":2.06,"windSpeed":1.51}},{"startTime":"2023-07-15T00:00:00-03:00","values":{"cloudCover":0,"humidity":86.14,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":10.6,"temperatureApparent":10.6,"temperatureMax":10.6,"temperatureMin":10.6,"weatherCode":1000,"windDirection":143.73,"windGust":2.62,"windSpeed":1.9}},{"startTime":"2023-07-15T01:00:00-03:00","values":{"cloudCover":0,"humidity":90.56,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":9.64,"temperatureApparent":9.64,"temperatureMax":9.64,"temperatureMin":9.64,"weatherCode":1000,"windDirection":108.11,"windGust":3.06,"windSpeed":2.22}},{"startTime":"2023-07-15T02:00:00-03:00","values":{"cloudCover":0,"humidity":93.23,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":8.68,"temperatureApparent":8.68,"temperatureMax":8.68,"temperatureMin":8.68,"weatherCode":1000,"windDirection":89.45,"windGust":3.33,"windSpeed":2.37}},{"startTime":"2023-07-15T03:00:00-03:00","values":{"cloudCover":0,"humidity":92.65,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":8.9,"temperatureApparent":8.9,"temperatureMax":8.9,"temperatureMin":8.9,"weatherCode":1000,"windDirection":86.62,"windGust":3.23,"windSpeed":2}},{"startTime":"2023-07-15T04:00:00-03:00","values":{"cloudCover":0,"humidity":90.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":9.91,"temperatureApparent":9.91,"temperatureMax":9.91,"temperatureMin":9.91,"weatherCode":1000,"windDirection":88.06,"windGust":4.58,"windSpeed":2.55}},{"startTime":"2023-07-15T05:00:00-03:00","values":{"cloudCover":0,"humidity":89.22,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":9.66,"temperatureApparent":9.66,"temperatureMax":9.66,"temperatureMin":9.66,"weatherCode":1000,"windDirection":85.73,"windGust":4.83,"windSpeed":2.65}},{"startTime":"2023-07-15T06:00:00-03:00","values":{"cloudCover":0,"humidity":86.38,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":9.35,"temperatureApparent":9.35,"temperatureMax":9.35,"temperatureMin":9.35,"weatherCode":1000,"windDirection":79.74,"windGust":5.05,"windSpeed":2.75}},{"startTime":"2023-07-15T07:00:00-03:00","values":{"cloudCover":0,"humidity":85.43,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":9.05,"temperatureApparent":9.05,"temperatureMax":9.05,"temperatureMin":9.05,"weatherCode":1000,"windDirection":75.16,"windGust":4.95,"windSpeed":2.71}},{"startTime":"2023-07-15T08:00:00-03:00","values":{"cloudCover":0,"humidity":81.43,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":10.04,"temperatureApparent":10.04,"temperatureMax":10.04,"temperatureMin":10.04,"weatherCode":1000,"windDirection":73.35,"windGust":5.33,"windSpeed":2.96}},{"startTime":"2023-07-15T09:00:00-03:00","values":{"cloudCover":0,"humidity":73.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":12.24,"temperatureApparent":12.24,"temperatureMax":12.24,"temperatureMin":12.24,"weatherCode":1000,"windDirection":80.17,"windGust":6.58,"windSpeed":2.93}},{"startTime":"2023-07-15T10:00:00-03:00","values":{"cloudCover":0,"humidity":66.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":14.35,"temperatureApparent":14.35,"temperatureMax":14.35,"temperatureMin":14.35,"weatherCode":1000,"windDirection":84.82,"windGust":7.25,"windSpeed":3.07}},{"startTime":"2023-07-15T11:00:00-03:00","values":{"cloudCover":0,"humidity":58.65,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":16.52,"temperatureApparent":16.52,"temperatureMax":16.52,"temperatureMin":16.52,"weatherCode":1000,"windDirection":84.25,"windGust":7.56,"windSpeed":3.11}},{"startTime":"2023-07-15T12:00:00-03:00","values":{"cloudCover":0,"humidity":50.66,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":18.35,"temperatureApparent":18.35,"temperatureMax":18.35,"temperatureMin":18.35,"weatherCode":1000,"windDirection":78.77,"windGust":7.78,"windSpeed":3.19}},{"startTime":"2023-07-15T13:00:00-03:00","values":{"cloudCover":0,"humidity":45.98,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":19.61,"temperatureApparent":19.61,"temperatureMax":19.61,"temperatureMin":19.61,"weatherCode":1000,"windDirection":75.28,"windGust":7.11,"windSpeed":2.84}},{"startTime":"2023-07-15T14:00:00-03:00","values":{"cloudCover":0,"humidity":44.08,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":20.37,"temperatureApparent":20.37,"temperatureMax":20.37,"temperatureMin":20.37,"weatherCode":1000,"windDirection":77.96,"windGust":6.29,"windSpeed":2.42}},{"startTime":"2023-07-15T15:00:00-03:00","values":{"cloudCover":0,"humidity":43.8,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":20.72,"temperatureApparent":20.72,"temperatureMax":20.72,"temperatureMin":20.72,"weatherCode":1000,"windDirection":85.52,"windGust":5.57,"windSpeed":2.16}},{"startTime":"2023-07-15T16:00:00-03:00","values":{"cloudCover":0,"humidity":44.8,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":20.57,"temperatureApparent":20.57,"temperatureMax":20.57,"temperatureMin":20.57,"weatherCode":1000,"windDirection":92.32,"windGust":4.85,"windSpeed":2.05}},{"startTime":"2023-07-15T17:00:00-03:00","values":{"cloudCover":0,"humidity":53.27,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":19.47,"temperatureApparent":19.47,"temperatureMax":19.47,"temperatureMin":19.47,"weatherCode":1000,"windDirection":109.45,"windGust":2.83,"windSpeed":1.48}},{"startTime":"2023-07-15T18:00:00-03:00","values":{"cloudCover":0,"humidity":68.05,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":15.68,"temperatureApparent":15.68,"temperatureMax":15.68,"temperatureMin":15.68,"weatherCode":1000,"windDirection":130.14,"windGust":3.11,"windSpeed":2.06}},{"startTime":"2023-07-15T19:00:00-03:00","values":{"cloudCover":0,"humidity":71.74,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":15.11,"temperatureApparent":15.11,"temperatureMax":15.11,"temperatureMin":15.11,"weatherCode":1000,"windDirection":124.77,"windGust":4.09,"windSpeed":2.37}},{"startTime":"2023-07-15T20:00:00-03:00","values":{"cloudCover":0,"humidity":75.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":14.13,"temperatureApparent":14.13,"temperatureMax":14.13,"temperatureMin":14.13,"weatherCode":1000,"windDirection":113.11,"windGust":4.02,"windSpeed":2.34}},{"startTime":"2023-07-15T21:00:00-03:00","values":{"cloudCover":14.06,"humidity":78.99,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":13.21,"temperatureApparent":13.21,"temperatureMax":13.21,"temperatureMin":13.21,"weatherCode":1100,"windDirection":100.24,"windGust":3.17,"windSpeed":1.91}},{"startTime":"2023-07-15T22:00:00-03:00","values":{"cloudCover":6.25,"humidity":80.44,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":12.85,"temperatureApparent":12.85,"temperatureMax":12.85,"temperatureMin":12.85,"weatherCode":1000,"windDirection":97.83,"windGust":3.11,"windSpeed":1.89}},{"startTime":"2023-07-15T23:00:00-03:00","values":{"cloudCover":23.59,"humidity":78.51,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T10:03:00Z","sunsetTime":"2023-07-15T21:05:00Z","temperature":12.7,"temperatureApparent":12.7,"temperatureMax":12.7,"temperatureMin":12.7,"weatherCode":1100,"windDirection":94.87,"windGust":3.29,"windSpeed":1.94}},{"startTime":"2023-07-16T00:00:00-03:00","values":{"cloudCover":93.47,"humidity":75.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":12.9,"temperatureApparent":12.9,"temperatureMax":12.9,"temperatureMin":12.9,"weatherCode":1001,"windDirection":91.01,"windGust":3.63,"windSpeed":1.95}},{"startTime":"2023-07-16T01:00:00-03:00","values":{"cloudCover":93.65,"humidity":71.6,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":13.59,"temperatureApparent":13.59,"temperatureMax":13.59,"temperatureMin":13.59,"weatherCode":1001,"windDirection":91.25,"windGust":3.17,"windSpeed":1.97}},{"startTime":"2023-07-16T02:00:00-03:00","values":{"cloudCover":92.39,"humidity":69.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":14.05,"temperatureApparent":14.05,"temperatureMax":14.05,"temperatureMin":14.05,"weatherCode":1001,"windDirection":92.59,"windGust":3.87,"windSpeed":1.81}},{"startTime":"2023-07-16T03:00:00-03:00","values":{"cloudCover":94.25,"humidity":66.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":14.69,"temperatureApparent":14.69,"temperatureMax":14.69,"temperatureMin":14.69,"weatherCode":1001,"windDirection":92.22,"windGust":4.84,"windSpeed":2.2}},{"startTime":"2023-07-16T04:00:00-03:00","values":{"cloudCover":89.16,"humidity":66.3,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":14.57,"temperatureApparent":14.57,"temperatureMax":14.57,"temperatureMin":14.57,"weatherCode":1001,"windDirection":99.74,"windGust":3.33,"windSpeed":1.87}},{"startTime":"2023-07-16T05:00:00-03:00","values":{"cloudCover":87.16,"humidity":63.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":14.92,"temperatureApparent":14.92,"temperatureMax":14.92,"temperatureMin":14.92,"weatherCode":1001,"windDirection":104,"windGust":2.83,"windSpeed":1.67}},{"startTime":"2023-07-16T06:00:00-03:00","values":{"cloudCover":95.18,"humidity":61.74,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":15.18,"temperatureApparent":15.18,"temperatureMax":15.18,"temperatureMin":15.18,"weatherCode":1001,"windDirection":83.42,"windGust":2.75,"windSpeed":1.65}},{"startTime":"2023-07-16T07:00:00-03:00","values":{"cloudCover":95.94,"humidity":59.37,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":15.4,"temperatureApparent":15.4,"temperatureMax":15.4,"temperatureMin":15.4,"weatherCode":1001,"windDirection":114.29,"windGust":2.06,"windSpeed":1.63}},{"startTime":"2023-07-16T08:00:00-03:00","values":{"cloudCover":94.04,"humidity":59.9,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":15.64,"temperatureApparent":15.64,"temperatureMax":15.64,"temperatureMin":15.64,"weatherCode":1001,"windDirection":121.14,"windGust":2.36,"windSpeed":1.83}},{"startTime":"2023-07-16T09:00:00-03:00","values":{"cloudCover":94.07,"humidity":59.81,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":16.28,"temperatureApparent":16.28,"temperatureMax":16.28,"temperatureMin":16.28,"weatherCode":1001,"windDirection":117,"windGust":2.86,"windSpeed":1.59}},{"startTime":"2023-07-16T10:00:00-03:00","values":{"cloudCover":100,"humidity":56.49,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":17.05,"temperatureApparent":17.05,"temperatureMax":17.05,"temperatureMin":17.05,"weatherCode":1001,"windDirection":124.54,"windGust":2.56,"windSpeed":1.49}},{"startTime":"2023-07-16T11:00:00-03:00","values":{"cloudCover":100,"humidity":53.75,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":17.78,"temperatureApparent":17.78,"temperatureMax":17.78,"temperatureMin":17.78,"weatherCode":1001,"windDirection":136.21,"windGust":2.24,"windSpeed":1.55}},{"startTime":"2023-07-16T12:00:00-03:00","values":{"cloudCover":100,"humidity":55.64,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":17.85,"temperatureApparent":17.85,"temperatureMax":17.85,"temperatureMin":17.85,"weatherCode":1001,"windDirection":98.48,"windGust":2.62,"windSpeed":1.55}},{"startTime":"2023-07-16T13:00:00-03:00","values":{"cloudCover":100,"humidity":52.68,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":18.67,"temperatureApparent":18.67,"temperatureMax":18.67,"temperatureMin":18.67,"weatherCode":1001,"windDirection":89.99,"windGust":2.67,"windSpeed":1.77}},{"startTime":"2023-07-16T14:00:00-03:00","values":{"cloudCover":85.39,"humidity":40.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":22.54,"temperatureApparent":22.54,"temperatureMax":22.54,"temperatureMin":22.54,"weatherCode":1001,"windDirection":78.98,"windGust":2.14,"windSpeed":2.09}},{"startTime":"2023-07-16T15:00:00-03:00","values":{"cloudCover":71.38,"humidity":38.49,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":23.66,"temperatureApparent":23.66,"temperatureMax":23.66,"temperatureMin":23.66,"weatherCode":1102,"windDirection":67.1,"windGust":1.7,"windSpeed":1.7}},{"startTime":"2023-07-16T16:00:00-03:00","values":{"cloudCover":10.55,"humidity":39.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":23.82,"temperatureApparent":23.82,"temperatureMax":23.82,"temperatureMin":23.82,"weatherCode":1000,"windDirection":71.75,"windGust":1.3,"windSpeed":1.28}},{"startTime":"2023-07-16T17:00:00-03:00","values":{"cloudCover":7.29,"humidity":48.42,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":22.73,"temperatureApparent":22.73,"temperatureMax":22.73,"temperatureMin":22.73,"weatherCode":1000,"windDirection":92.82,"windGust":1.44,"windSpeed":1.44}},{"startTime":"2023-07-16T18:00:00-03:00","values":{"cloudCover":7.58,"humidity":53.83,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":19.26,"temperatureApparent":19.26,"temperatureMax":19.26,"temperatureMin":19.26,"weatherCode":1000,"windDirection":106.63,"windGust":1.75,"windSpeed":1.75}},{"startTime":"2023-07-16T19:00:00-03:00","values":{"cloudCover":30.68,"humidity":56.23,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":18.07,"temperatureApparent":18.07,"temperatureMax":18.07,"temperatureMin":18.07,"weatherCode":1100,"windDirection":105.98,"windGust":1.6,"windSpeed":1.6}},{"startTime":"2023-07-16T20:00:00-03:00","values":{"cloudCover":43.58,"humidity":57.33,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":17.45,"temperatureApparent":17.45,"temperatureMax":17.45,"temperatureMin":17.45,"weatherCode":1101,"windDirection":106.78,"windGust":1.54,"windSpeed":1.51}},{"startTime":"2023-07-16T21:00:00-03:00","values":{"cloudCover":52.99,"humidity":57.12,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":17.26,"temperatureApparent":17.26,"temperatureMax":17.26,"temperatureMin":17.26,"weatherCode":1101,"windDirection":109.15,"windGust":1.58,"windSpeed":1.55}},{"startTime":"2023-07-16T22:00:00-03:00","values":{"cloudCover":100,"humidity":57.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":16.97,"temperatureApparent":16.97,"temperatureMax":16.97,"temperatureMin":16.97,"weatherCode":1001,"windDirection":119.81,"windGust":2.04,"windSpeed":2.04}},{"startTime":"2023-07-16T23:00:00-03:00","values":{"cloudCover":100,"humidity":59.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T10:03:00Z","sunsetTime":"2023-07-16T21:05:00Z","temperature":16.48,"temperatureApparent":16.48,"temperatureMax":16.48,"temperatureMin":16.48,"weatherCode":1001,"windDirection":111.9,"windGust":2.08,"windSpeed":2.08}},{"startTime":"2023-07-17T00:00:00-03:00","values":{"cloudCover":100,"humidity":60.71,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":16.14,"temperatureApparent":16.14,"temperatureMax":16.14,"temperatureMin":16.14,"weatherCode":1001,"windDirection":110.52,"windGust":2.12,"windSpeed":2.06}},{"startTime":"2023-07-17T01:00:00-03:00","values":{"cloudCover":95.64,"humidity":61.49,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":15.77,"temperatureApparent":15.77,"temperatureMax":15.77,"temperatureMin":15.77,"weatherCode":1001,"windDirection":113.71,"windGust":2.11,"windSpeed":2.02}},{"startTime":"2023-07-17T02:00:00-03:00","values":{"cloudCover":96.52,"humidity":61.87,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":15.57,"temperatureApparent":15.57,"temperatureMax":15.57,"temperatureMin":15.57,"weatherCode":1001,"windDirection":110.3,"windGust":1.74,"windSpeed":1.71}},{"startTime":"2023-07-17T03:00:00-03:00","values":{"cloudCover":92.89,"humidity":62.86,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":15.23,"temperatureApparent":15.23,"temperatureMax":15.23,"temperatureMin":15.23,"weatherCode":1001,"windDirection":97.05,"windGust":1.59,"windSpeed":1.57}},{"startTime":"2023-07-17T04:00:00-03:00","values":{"cloudCover":100,"humidity":63.31,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":15.03,"temperatureApparent":15.03,"temperatureMax":15.03,"temperatureMin":15.03,"weatherCode":1001,"windDirection":89.25,"windGust":1.49,"windSpeed":1.49}},{"startTime":"2023-07-17T05:00:00-03:00","values":{"cloudCover":69.41,"humidity":64.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":14.74,"temperatureApparent":14.74,"temperatureMax":14.74,"temperatureMin":14.74,"weatherCode":1102,"windDirection":85.88,"windGust":1.52,"windSpeed":1.52}},{"startTime":"2023-07-17T06:00:00-03:00","values":{"cloudCover":63.94,"humidity":65.52,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":14.49,"temperatureApparent":14.49,"temperatureMax":14.49,"temperatureMin":14.49,"weatherCode":1102,"windDirection":88.3,"windGust":1.48,"windSpeed":1.48}},{"startTime":"2023-07-17T07:00:00-03:00","values":{"cloudCover":50.22,"humidity":67.81,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":14.21,"temperatureApparent":14.21,"temperatureMax":14.21,"temperatureMin":14.21,"weatherCode":1101,"windDirection":75.19,"windGust":1.68,"windSpeed":1.68}},{"startTime":"2023-07-17T08:00:00-03:00","values":{"cloudCover":58.32,"humidity":68.34,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":15.41,"temperatureApparent":15.41,"temperatureMax":15.41,"temperatureMin":15.41,"weatherCode":1101,"windDirection":97.15,"windGust":2.57,"windSpeed":1.66}},{"startTime":"2023-07-17T09:00:00-03:00","values":{"cloudCover":49.65,"humidity":59.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":18.25,"temperatureApparent":18.25,"temperatureMax":18.25,"temperatureMin":18.25,"weatherCode":1101,"windDirection":101.86,"windGust":3.35,"windSpeed":1.99}},{"startTime":"2023-07-17T10:00:00-03:00","values":{"cloudCover":31.44,"humidity":53.14,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":20.76,"temperatureApparent":20.76,"temperatureMax":20.76,"temperatureMin":20.76,"weatherCode":1100,"windDirection":83.91,"windGust":3.78,"windSpeed":2.73}},{"startTime":"2023-07-17T11:00:00-03:00","values":{"cloudCover":20.25,"humidity":47.45,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":23.22,"temperatureApparent":23.22,"temperatureMax":23.22,"temperatureMin":23.22,"weatherCode":1100,"windDirection":61.97,"windGust":3.65,"windSpeed":2.73}},{"startTime":"2023-07-17T12:00:00-03:00","values":{"cloudCover":25.79,"humidity":42.58,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":25.36,"temperatureApparent":25.36,"temperatureMax":25.36,"temperatureMin":25.36,"weatherCode":1100,"windDirection":53.42,"windGust":2.91,"windSpeed":2.36}},{"startTime":"2023-07-17T13:00:00-03:00","values":{"cloudCover":35.49,"humidity":39.45,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":26.81,"temperatureApparent":26.7,"temperatureMax":26.81,"temperatureMin":26.81,"weatherCode":1100,"windDirection":35.42,"windGust":2.38,"windSpeed":1.68}},{"startTime":"2023-07-17T14:00:00-03:00","values":{"cloudCover":30.15,"humidity":37.87,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":27.82,"temperatureApparent":27.38,"temperatureMax":27.82,"temperatureMin":27.82,"weatherCode":1100,"windDirection":25.53,"windGust":1.97,"windSpeed":1.33}},{"startTime":"2023-07-17T15:00:00-03:00","values":{"cloudCover":26.32,"humidity":37.58,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":28.14,"temperatureApparent":27.62,"temperatureMax":28.14,"temperatureMin":28.14,"weatherCode":1100,"windDirection":190.72,"windGust":1.62,"windSpeed":0.89}},{"startTime":"2023-07-17T16:00:00-03:00","values":{"cloudCover":20.51,"humidity":43.58,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":26.33,"temperatureApparent":26.33,"temperatureMax":26.33,"temperatureMin":26.33,"weatherCode":1100,"windDirection":190.72,"windGust":1.67,"windSpeed":1.18}},{"startTime":"2023-07-17T17:00:00-03:00","values":{"cloudCover":14.71,"humidity":49.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":24.53,"temperatureApparent":24.53,"temperatureMax":24.53,"temperatureMin":24.53,"weatherCode":1100,"windDirection":184.22,"windGust":1.71,"windSpeed":1.47}},{"startTime":"2023-07-17T18:00:00-03:00","values":{"cloudCover":8.91,"humidity":55.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":22.73,"temperatureApparent":22.73,"temperatureMax":22.73,"temperatureMin":22.73,"weatherCode":1000,"windDirection":184.22,"windGust":1.76,"windSpeed":1.76}},{"startTime":"2023-07-17T19:00:00-03:00","values":{"cloudCover":8.66,"humidity":57.65,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":21.91,"temperatureApparent":21.91,"temperatureMax":21.91,"temperatureMin":21.91,"weatherCode":1000,"windDirection":184.22,"windGust":1.81,"windSpeed":1.81}},{"startTime":"2023-07-17T20:00:00-03:00","values":{"cloudCover":8.41,"humidity":59.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":21.09,"temperatureApparent":21.09,"temperatureMax":21.09,"temperatureMin":21.09,"weatherCode":1000,"windDirection":147.67,"windGust":1.86,"windSpeed":1.86}},{"startTime":"2023-07-17T21:00:00-03:00","values":{"cloudCover":8.15,"humidity":61.81,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":20.27,"temperatureApparent":20.27,"temperatureMax":20.27,"temperatureMin":20.27,"weatherCode":1000,"windDirection":147.67,"windGust":1.9,"windSpeed":1.9}},{"startTime":"2023-07-17T22:00:00-03:00","values":{"cloudCover":34.42,"humidity":63.92,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T10:03:00Z","sunsetTime":"2023-07-17T21:05:00Z","temperature":19.81,"temperatureApparent":19.81,"temperatureMax":19.81,"temperatureMin":19.81,"weatherCode":1100,"windDirection":147.67,"windGust":2.76,"windSpeed":2.07}}]},{"timestep":"current","endTime":"2023-07-12T23:55:00-03:00","startTime":"2023-07-12T23:55:00-03:00","intervals":[{"startTime":"2023-07-12T23:55:00-03:00","values":{"cloudCover":64,"humidity":78,"precipitationIntensity":2.39,"precipitationProbability":28,"precipitationType":1,"sunriseTime":"2023-07-12T10:03:00Z","sunsetTime":"2023-07-12T21:04:00Z","temperature":21.81,"temperatureApparent":21.81,"temperatureMax":21.81,"temperatureMin":21.81,"weatherCode":4200,"windDirection":238,"windGust":14.88,"windSpeed":6.5}}]}],"warnings":[{"code":246009,"type":"Missing Time Range","message":"The timestep is not supported in full for the time range requested.","meta":{"from":"-12h","to":"+12h","timestep":"current"}}]}}')

  const timelines = response.data.timelines

  return {
    current: current(timelines),
    hourly: hourly(timelines),
    daily: daily(timelines)
  }
}

function current(timelines: TimelineType[]): CurrentModel {
  const currentResponse: IntervalType = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === 'current'
  )[0].intervals[0]

  return new CurrentModel(flatten(currentResponse))
}

function hourly(timelines: TimelineType[]): HourModel[] {
  const hourly: HourModel[] = new Array<HourModel>()
  const hoursResponse: TimelineType[] = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === '1h'
  )

  hoursResponse[0].intervals.map((hour: IntervalType): void => {
    hourly.push(new HourModel(flatten(hour)))
  })

  return hourly
}

function daily(timelines: TimelineType[]): DayModel[] {
  const daily: DayModel[] = new Array<DayModel>()
  const daysResponse: TimelineType[] = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === '1d'
  )

  daysResponse[0].intervals.map((day: IntervalType): void => {
    daily.push(new DayModel(flatten(day)))
  })

  return daily
}
