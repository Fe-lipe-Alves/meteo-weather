import { CurrentModel } from '@/models/CurrentModel'
import { HourModel } from '@/models/HourModel'
import { DayModel } from '@/models/DayModel'
import moment from 'moment/moment'
import type { TimelineType } from '@/types/TimelineType'
import type { IntervalType } from '@/types/IntervalType'

const timelinesURL = 'https://api.tomorrow.io/v4/timelines'
const apiKey = 'woUIhYHlbBiFaLX311Rv8NU0QmXC0MsP'
const fields = [
  'cloudCover',
  'humidity',
  'precipitationIntensity',
  'precipitationProbability',
  'precipitationType',
  'sunriseTime',
  'sunsetTime',
  'temperature',
  'temperatureApparent',
  'temperatureMax',
  'temperatureMin',
  'weatherCode',
  'windDirection',
  'windGust',
  'windSpeed'
]

const requestOptions: RequestInit = {
  method: 'GET',
  redirect: 'follow'
}

async function request(latitude: number, longitude: number, timezone: string) {
  const options = {
    location: latitude + ',' + longitude,
    fields: fields.join(','),
    startTime: moment().format('YYYY-MM-DDTHH:mm:ssZ'),
    endTime: moment().add(5, 'days').subtract(1, 'hour').format('YYYY-MM-DDTHH:mm:ssZ'),
    timesteps: '1h,1d,current',
    units: 'metric',
    timezone: timezone,
    apikey: apiKey
  }

  const queryString = new URLSearchParams(options).toString()

  return await fetch(timelinesURL + '?' + queryString, requestOptions)
    .then((response) => response.json())
    .catch((error) => {
      throw error
    })
}

function flatten(obj: any) {
  return { ...obj.values, startTime: obj.startTime }
}

export async function getForecastData(latitude: number, longitude: number, timezone: string) {
  const response = await request(latitude, longitude, timezone)
  // const response = JSON.parse('{"data":{"timelines":[{"timestep":"1d","endTime":"2023-07-18T06:00:00-03:00","startTime":"2023-07-13T06:00:00-03:00","intervals":[{"startTime":"2023-07-13T06:00:00-03:00","values":{"cloudCover":100,"humidity":100,"precipitationIntensity":0.18,"precipitationProbability":20,"precipitationType":1,"sunriseTime":"2023-07-13T10:00:00Z","sunsetTime":"2023-07-13T21:02:00Z","temperature":20,"temperatureApparent":20,"temperatureMax":20,"temperatureMin":9.33,"weatherCode":1100,"windDirection":227.13,"windGust":12.38,"windSpeed":6.13}},{"startTime":"2023-07-14T06:00:00-03:00","values":{"cloudCover":21.5,"humidity":86.88,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":19.37,"temperatureApparent":19.37,"temperatureMax":19.37,"temperatureMin":8.48,"weatherCode":1000,"windDirection":146.78,"windGust":11.9,"windSpeed":4.2}},{"startTime":"2023-07-15T06:00:00-03:00","values":{"cloudCover":100,"humidity":79.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":22.52,"temperatureApparent":22.52,"temperatureMax":22.52,"temperatureMin":9.04,"weatherCode":1100,"windDirection":107.28,"windGust":11.69,"windSpeed":4.42}},{"startTime":"2023-07-16T06:00:00-03:00","values":{"cloudCover":100,"humidity":73.33,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":26.7,"temperatureApparent":26.58,"temperatureMax":26.7,"temperatureMin":12.98,"weatherCode":1001,"windDirection":146.63,"windGust":5.29,"windSpeed":3.01}},{"startTime":"2023-07-17T06:00:00-03:00","values":{"cloudCover":100,"humidity":62.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":28.3,"temperatureApparent":27.67,"temperatureMax":28.3,"temperatureMin":15.23,"weatherCode":1001,"windDirection":106.41,"windGust":4.3,"windSpeed":3.2}},{"startTime":"2023-07-18T06:00:00-03:00","values":{"cloudCover":100,"humidity":70.18,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":28.21,"temperatureApparent":27.72,"temperatureMax":28.21,"temperatureMin":19.02,"weatherCode":1001,"windDirection":128.88,"windGust":14.47,"windSpeed":6.93}}]},{"timestep":"1h","endTime":"2023-07-18T23:00:00-03:00","startTime":"2023-07-14T00:00:00-03:00","intervals":[{"startTime":"2023-07-14T00:00:00-03:00","values":{"cloudCover":7,"humidity":95,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":11.19,"temperatureApparent":11.19,"temperatureMax":11.19,"temperatureMin":11.19,"weatherCode":1000,"windDirection":231.69,"windGust":11.81,"windSpeed":3.31}},{"startTime":"2023-07-14T01:00:00-03:00","values":{"cloudCover":16.16,"humidity":77.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":11.54,"temperatureApparent":11.54,"temperatureMax":11.54,"temperatureMin":11.54,"weatherCode":1100,"windDirection":206.42,"windGust":11.99,"windSpeed":4.73}},{"startTime":"2023-07-14T02:00:00-03:00","values":{"cloudCover":8.22,"humidity":80.13,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":10.92,"temperatureApparent":10.92,"temperatureMax":10.92,"temperatureMin":10.92,"weatherCode":1000,"windDirection":202.57,"windGust":12,"windSpeed":4.75}},{"startTime":"2023-07-14T03:00:00-03:00","values":{"cloudCover":12.19,"humidity":82.76,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":10.38,"temperatureApparent":10.38,"temperatureMax":10.38,"temperatureMin":10.38,"weatherCode":1100,"windDirection":200.69,"windGust":11.39,"windSpeed":4.43}},{"startTime":"2023-07-14T04:00:00-03:00","values":{"cloudCover":15.65,"humidity":84.82,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":9.88,"temperatureApparent":9.88,"temperatureMax":9.88,"temperatureMin":9.88,"weatherCode":1100,"windDirection":195.06,"windGust":11.11,"windSpeed":4.04}},{"startTime":"2023-07-14T05:00:00-03:00","values":{"cloudCover":15.46,"humidity":86.47,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":9.33,"temperatureApparent":9.33,"temperatureMax":9.33,"temperatureMin":9.33,"weatherCode":1100,"windDirection":194.56,"windGust":10.8,"windSpeed":3.79}},{"startTime":"2023-07-14T06:00:00-03:00","values":{"cloudCover":15.06,"humidity":87.2,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":8.81,"temperatureApparent":8.81,"temperatureMax":8.81,"temperatureMin":8.81,"weatherCode":1100,"windDirection":194.49,"windGust":10.01,"windSpeed":3.63}},{"startTime":"2023-07-14T07:00:00-03:00","values":{"cloudCover":16.58,"humidity":86.88,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":8.48,"temperatureApparent":8.48,"temperatureMax":8.48,"temperatureMin":8.48,"weatherCode":1100,"windDirection":192.4,"windGust":9.11,"windSpeed":3.23}},{"startTime":"2023-07-14T08:00:00-03:00","values":{"cloudCover":20.32,"humidity":83.97,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":9.12,"temperatureApparent":9.12,"temperatureMax":9.12,"temperatureMin":9.12,"weatherCode":1100,"windDirection":183.05,"windGust":7.53,"windSpeed":3.17}},{"startTime":"2023-07-14T09:00:00-03:00","values":{"cloudCover":21.5,"humidity":76.14,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":10.74,"temperatureApparent":10.74,"temperatureMax":10.74,"temperatureMin":10.74,"weatherCode":1100,"windDirection":173.11,"windGust":6.82,"windSpeed":2.88}},{"startTime":"2023-07-14T10:00:00-03:00","values":{"cloudCover":19.29,"humidity":64.37,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":12.58,"temperatureApparent":12.58,"temperatureMax":12.58,"temperatureMin":12.58,"weatherCode":1100,"windDirection":157.42,"windGust":5.47,"windSpeed":2.84}},{"startTime":"2023-07-14T11:00:00-03:00","values":{"cloudCover":16.35,"humidity":54.14,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":14.41,"temperatureApparent":14.41,"temperatureMax":14.41,"temperatureMin":14.41,"weatherCode":1100,"windDirection":146.23,"windGust":4.22,"windSpeed":2.57}},{"startTime":"2023-07-14T12:00:00-03:00","values":{"cloudCover":15.6,"humidity":46.51,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":16.11,"temperatureApparent":16.11,"temperatureMax":16.11,"temperatureMin":16.11,"weatherCode":1100,"windDirection":139.3,"windGust":3.08,"windSpeed":2.16}},{"startTime":"2023-07-14T13:00:00-03:00","values":{"cloudCover":12.52,"humidity":38.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":17.58,"temperatureApparent":17.58,"temperatureMax":17.58,"temperatureMin":17.58,"weatherCode":1100,"windDirection":141,"windGust":2.36,"windSpeed":1.76}},{"startTime":"2023-07-14T14:00:00-03:00","values":{"cloudCover":8.54,"humidity":35.2,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":18.56,"temperatureApparent":18.56,"temperatureMax":18.56,"temperatureMin":18.56,"weatherCode":1000,"windDirection":151.52,"windGust":1.94,"windSpeed":1.6}},{"startTime":"2023-07-14T15:00:00-03:00","values":{"cloudCover":5.41,"humidity":33.46,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":19.22,"temperatureApparent":19.22,"temperatureMax":19.22,"temperatureMin":19.22,"weatherCode":1000,"windDirection":164.07,"windGust":1.8,"windSpeed":1.57}},{"startTime":"2023-07-14T16:00:00-03:00","values":{"cloudCover":6.53,"humidity":32.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":19.37,"temperatureApparent":19.37,"temperatureMax":19.37,"temperatureMin":19.37,"weatherCode":1000,"windDirection":173.03,"windGust":2.08,"windSpeed":1.83}},{"startTime":"2023-07-14T17:00:00-03:00","values":{"cloudCover":1.61,"humidity":34.2,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":18.9,"temperatureApparent":18.9,"temperatureMax":18.9,"temperatureMin":18.9,"weatherCode":1000,"windDirection":173.2,"windGust":2.71,"windSpeed":2.28}},{"startTime":"2023-07-14T18:00:00-03:00","values":{"cloudCover":0,"humidity":39.49,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":17.61,"temperatureApparent":17.61,"temperatureMax":17.61,"temperatureMin":17.61,"weatherCode":1000,"windDirection":179,"windGust":3.75,"windSpeed":2.71}},{"startTime":"2023-07-14T19:00:00-03:00","values":{"cloudCover":0,"humidity":43.36,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":16.2,"temperatureApparent":16.2,"temperatureMax":16.2,"temperatureMin":16.2,"weatherCode":1000,"windDirection":169.88,"windGust":4.12,"windSpeed":2.52}},{"startTime":"2023-07-14T20:00:00-03:00","values":{"cloudCover":0,"humidity":46.28,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":15.14,"temperatureApparent":15.14,"temperatureMax":15.14,"temperatureMin":15.14,"weatherCode":1000,"windDirection":161.82,"windGust":4.31,"windSpeed":2.16}},{"startTime":"2023-07-14T21:00:00-03:00","values":{"cloudCover":0,"humidity":48.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":14.26,"temperatureApparent":14.26,"temperatureMax":14.26,"temperatureMin":14.26,"weatherCode":1000,"windDirection":152.41,"windGust":4.73,"windSpeed":2.08}},{"startTime":"2023-07-14T22:00:00-03:00","values":{"cloudCover":0,"humidity":51.34,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":13.21,"temperatureApparent":13.21,"temperatureMax":13.21,"temperatureMin":13.21,"weatherCode":1000,"windDirection":137.68,"windGust":5.93,"windSpeed":2.14}},{"startTime":"2023-07-14T23:00:00-03:00","values":{"cloudCover":0,"humidity":51.84,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":12.63,"temperatureApparent":12.63,"temperatureMax":12.63,"temperatureMin":12.63,"weatherCode":1000,"windDirection":135.64,"windGust":6.11,"windSpeed":2.28}},{"startTime":"2023-07-15T00:00:00-03:00","values":{"cloudCover":0,"humidity":53.96,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":12.17,"temperatureApparent":12.17,"temperatureMax":12.17,"temperatureMin":12.17,"weatherCode":1000,"windDirection":124.41,"windGust":7.43,"windSpeed":2.61}},{"startTime":"2023-07-15T01:00:00-03:00","values":{"cloudCover":0,"humidity":53.85,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":11.73,"temperatureApparent":11.73,"temperatureMax":11.73,"temperatureMin":11.73,"weatherCode":1000,"windDirection":115.26,"windGust":7.5,"windSpeed":2.57}},{"startTime":"2023-07-15T02:00:00-03:00","values":{"cloudCover":0,"humidity":55.34,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":10.97,"temperatureApparent":10.97,"temperatureMax":10.97,"temperatureMin":10.97,"weatherCode":1000,"windDirection":110.84,"windGust":9.36,"windSpeed":3.4}},{"startTime":"2023-07-15T03:00:00-03:00","values":{"cloudCover":0,"humidity":60.73,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":10.78,"temperatureApparent":10.78,"temperatureMax":10.78,"temperatureMin":10.78,"weatherCode":1000,"windDirection":102.41,"windGust":11.1,"windSpeed":3.97}},{"startTime":"2023-07-15T04:00:00-03:00","values":{"cloudCover":0,"humidity":69.53,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":10.27,"temperatureApparent":10.27,"temperatureMax":10.27,"temperatureMin":10.27,"weatherCode":1000,"windDirection":96.45,"windGust":11.8,"windSpeed":4.06}},{"startTime":"2023-07-15T05:00:00-03:00","values":{"cloudCover":0,"humidity":75.79,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":9.75,"temperatureApparent":9.75,"temperatureMax":9.75,"temperatureMin":9.75,"weatherCode":1000,"windDirection":95.84,"windGust":11.9,"windSpeed":4.2}},{"startTime":"2023-07-15T06:00:00-03:00","values":{"cloudCover":0,"humidity":77.74,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":9.36,"temperatureApparent":9.36,"temperatureMax":9.36,"temperatureMin":9.36,"weatherCode":1000,"windDirection":96.59,"windGust":11.83,"windSpeed":4.04}},{"startTime":"2023-07-15T07:00:00-03:00","values":{"cloudCover":2.34,"humidity":79.55,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":9.04,"temperatureApparent":9.04,"temperatureMax":9.04,"temperatureMin":9.04,"weatherCode":1000,"windDirection":96.35,"windGust":11.69,"windSpeed":4.12}},{"startTime":"2023-07-15T08:00:00-03:00","values":{"cloudCover":4.53,"humidity":74.91,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":10.26,"temperatureApparent":10.26,"temperatureMax":10.26,"temperatureMin":10.26,"weatherCode":1000,"windDirection":96.05,"windGust":10.72,"windSpeed":4.24}},{"startTime":"2023-07-15T09:00:00-03:00","values":{"cloudCover":3.12,"humidity":62.72,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":13.23,"temperatureApparent":13.23,"temperatureMax":13.23,"temperatureMin":13.23,"weatherCode":1000,"windDirection":87.68,"windGust":9.12,"windSpeed":4.42}},{"startTime":"2023-07-15T10:00:00-03:00","values":{"cloudCover":2.52,"humidity":50.91,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":15.99,"temperatureApparent":15.99,"temperatureMax":15.99,"temperatureMin":15.99,"weatherCode":1000,"windDirection":84.45,"windGust":7.4,"windSpeed":3.9}},{"startTime":"2023-07-15T11:00:00-03:00","values":{"cloudCover":2.02,"humidity":41.29,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":18.36,"temperatureApparent":18.36,"temperatureMax":18.36,"temperatureMin":18.36,"weatherCode":1000,"windDirection":84.31,"windGust":6.05,"windSpeed":3.67}},{"startTime":"2023-07-15T12:00:00-03:00","values":{"cloudCover":3.22,"humidity":32.92,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":20.42,"temperatureApparent":20.42,"temperatureMax":20.42,"temperatureMin":20.42,"weatherCode":1000,"windDirection":81.63,"windGust":4.53,"windSpeed":3.03}},{"startTime":"2023-07-15T13:00:00-03:00","values":{"cloudCover":30.47,"humidity":36.63,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":21.2,"temperatureApparent":21.2,"temperatureMax":21.2,"temperatureMin":21.2,"weatherCode":1100,"windDirection":81.06,"windGust":6.49,"windSpeed":2.61}},{"startTime":"2023-07-15T14:00:00-03:00","values":{"cloudCover":0,"humidity":33.18,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":22.11,"temperatureApparent":22.11,"temperatureMax":22.11,"temperatureMin":22.11,"weatherCode":1000,"windDirection":73.02,"windGust":5.68,"windSpeed":2.2}},{"startTime":"2023-07-15T15:00:00-03:00","values":{"cloudCover":0,"humidity":31.06,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":22.52,"temperatureApparent":22.52,"temperatureMax":22.52,"temperatureMin":22.52,"weatherCode":1000,"windDirection":69.16,"windGust":4.8,"windSpeed":1.85}},{"startTime":"2023-07-15T16:00:00-03:00","values":{"cloudCover":22.66,"humidity":30.96,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":22.4,"temperatureApparent":22.4,"temperatureMax":22.4,"temperatureMin":22.4,"weatherCode":1100,"windDirection":80.34,"windGust":3.66,"windSpeed":1.53}},{"startTime":"2023-07-15T17:00:00-03:00","values":{"cloudCover":59.38,"humidity":50.69,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":21.22,"temperatureApparent":21.22,"temperatureMax":21.22,"temperatureMin":21.22,"weatherCode":1101,"windDirection":80.27,"windGust":1.42,"windSpeed":0.76}},{"startTime":"2023-07-15T18:00:00-03:00","values":{"cloudCover":49.22,"humidity":49.33,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":18.9,"temperatureApparent":18.9,"temperatureMax":18.9,"temperatureMin":18.9,"weatherCode":1101,"windDirection":112.46,"windGust":2.29,"windSpeed":1.91}},{"startTime":"2023-07-15T19:00:00-03:00","values":{"cloudCover":32.03,"humidity":48.04,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":17.64,"temperatureApparent":17.64,"temperatureMax":17.64,"temperatureMin":17.64,"weatherCode":1100,"windDirection":146.45,"windGust":2.64,"windSpeed":1.63}},{"startTime":"2023-07-15T20:00:00-03:00","values":{"cloudCover":34.38,"humidity":53.08,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":16.61,"temperatureApparent":16.61,"temperatureMax":16.61,"temperatureMin":16.61,"weatherCode":1100,"windDirection":149.43,"windGust":4.73,"windSpeed":2.75}},{"startTime":"2023-07-15T21:00:00-03:00","values":{"cloudCover":25,"humidity":56.16,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":15.87,"temperatureApparent":15.87,"temperatureMax":15.87,"temperatureMin":15.87,"weatherCode":1100,"windDirection":147,"windGust":4.94,"windSpeed":2.85}},{"startTime":"2023-07-15T22:00:00-03:00","values":{"cloudCover":47.66,"humidity":60.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":15.18,"temperatureApparent":15.18,"temperatureMax":15.18,"temperatureMin":15.18,"weatherCode":1101,"windDirection":140.11,"windGust":5.23,"windSpeed":3.01}},{"startTime":"2023-07-15T23:00:00-03:00","values":{"cloudCover":33.59,"humidity":61.01,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-15T09:59:00Z","sunsetTime":"2023-07-15T21:02:00Z","temperature":15.26,"temperatureApparent":15.26,"temperatureMax":15.26,"temperatureMin":15.26,"weatherCode":1100,"windDirection":132.81,"windGust":5.49,"windSpeed":3.14}},{"startTime":"2023-07-16T00:00:00-03:00","values":{"cloudCover":36.72,"humidity":63.12,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":14.71,"temperatureApparent":14.71,"temperatureMax":14.71,"temperatureMin":14.71,"weatherCode":1100,"windDirection":127.05,"windGust":4.96,"windSpeed":2.86}},{"startTime":"2023-07-16T01:00:00-03:00","values":{"cloudCover":92.97,"humidity":64.68,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":14.36,"temperatureApparent":14.36,"temperatureMax":14.36,"temperatureMin":14.36,"weatherCode":1001,"windDirection":120.74,"windGust":5.59,"windSpeed":3.19}},{"startTime":"2023-07-16T02:00:00-03:00","values":{"cloudCover":100,"humidity":62.27,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":15.06,"temperatureApparent":15.06,"temperatureMax":15.06,"temperatureMin":15.06,"weatherCode":1001,"windDirection":119.75,"windGust":4.69,"windSpeed":2.69}},{"startTime":"2023-07-16T03:00:00-03:00","values":{"cloudCover":97.66,"humidity":61.42,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":15.36,"temperatureApparent":15.36,"temperatureMax":15.36,"temperatureMin":15.36,"weatherCode":1001,"windDirection":114.04,"windGust":4.43,"windSpeed":2.57}},{"startTime":"2023-07-16T04:00:00-03:00","values":{"cloudCover":39.06,"humidity":64.1,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":14.83,"temperatureApparent":14.83,"temperatureMax":14.83,"temperatureMin":14.83,"weatherCode":1101,"windDirection":123.45,"windGust":3.29,"windSpeed":1.94}},{"startTime":"2023-07-16T05:00:00-03:00","values":{"cloudCover":28.91,"humidity":67.31,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":14.22,"temperatureApparent":14.22,"temperatureMax":14.22,"temperatureMin":14.22,"weatherCode":1100,"windDirection":119.83,"windGust":3.32,"windSpeed":1.94}},{"startTime":"2023-07-16T06:00:00-03:00","values":{"cloudCover":16.41,"humidity":71.7,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":13.32,"temperatureApparent":13.32,"temperatureMax":13.32,"temperatureMin":13.32,"weatherCode":1100,"windDirection":125.11,"windGust":3.68,"windSpeed":2.17}},{"startTime":"2023-07-16T07:00:00-03:00","values":{"cloudCover":26.56,"humidity":73.33,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":12.98,"temperatureApparent":12.98,"temperatureMax":12.98,"temperatureMin":12.98,"weatherCode":1100,"windDirection":123.71,"windGust":3.77,"windSpeed":2.22}},{"startTime":"2023-07-16T08:00:00-03:00","values":{"cloudCover":84.38,"humidity":69.52,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":14.37,"temperatureApparent":14.37,"temperatureMax":14.37,"temperatureMin":14.37,"weatherCode":1001,"windDirection":135.1,"windGust":4.51,"windSpeed":2.73}},{"startTime":"2023-07-16T09:00:00-03:00","values":{"cloudCover":27.34,"humidity":62.11,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":17.16,"temperatureApparent":17.16,"temperatureMax":17.16,"temperatureMin":17.16,"weatherCode":1100,"windDirection":122.37,"windGust":4.52,"windSpeed":1.99}},{"startTime":"2023-07-16T10:00:00-03:00","values":{"cloudCover":11.72,"humidity":51.4,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":20.27,"temperatureApparent":20.27,"temperatureMax":20.27,"temperatureMin":20.27,"weatherCode":1000,"windDirection":98.33,"windGust":4.75,"windSpeed":1.8}},{"startTime":"2023-07-16T11:00:00-03:00","values":{"cloudCover":10.94,"humidity":43.22,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":22.88,"temperatureApparent":22.88,"temperatureMax":22.88,"temperatureMin":22.88,"weatherCode":1000,"windDirection":84.26,"windGust":4.83,"windSpeed":1.67}},{"startTime":"2023-07-16T12:00:00-03:00","values":{"cloudCover":88.28,"humidity":39.72,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":24.63,"temperatureApparent":24.63,"temperatureMax":24.63,"temperatureMin":24.63,"weatherCode":1001,"windDirection":55.48,"windGust":4.58,"windSpeed":1.44}},{"startTime":"2023-07-16T13:00:00-03:00","values":{"cloudCover":74.22,"humidity":38.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":25.75,"temperatureApparent":25.75,"temperatureMax":25.75,"temperatureMin":25.75,"weatherCode":1102,"windDirection":16.3,"windGust":4.1,"windSpeed":1.11}},{"startTime":"2023-07-16T14:00:00-03:00","values":{"cloudCover":68.75,"humidity":38.13,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":26.44,"temperatureApparent":26.44,"temperatureMax":26.44,"temperatureMin":26.44,"weatherCode":1102,"windDirection":330.79,"windGust":3.98,"windSpeed":1.11}},{"startTime":"2023-07-16T15:00:00-03:00","values":{"cloudCover":61.72,"humidity":38.36,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":26.7,"temperatureApparent":26.58,"temperatureMax":26.7,"temperatureMin":26.7,"weatherCode":1101,"windDirection":283.82,"windGust":3.76,"windSpeed":1.17}},{"startTime":"2023-07-16T16:00:00-03:00","values":{"cloudCover":21.88,"humidity":39.26,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":26.49,"temperatureApparent":26.49,"temperatureMax":26.49,"temperatureMin":26.49,"weatherCode":1100,"windDirection":247.54,"windGust":3.63,"windSpeed":1.45}},{"startTime":"2023-07-16T17:00:00-03:00","values":{"cloudCover":33.59,"humidity":47.63,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":25.26,"temperatureApparent":25.26,"temperatureMax":25.26,"temperatureMin":25.26,"weatherCode":1100,"windDirection":217.66,"windGust":2.54,"windSpeed":1.21}},{"startTime":"2023-07-16T18:00:00-03:00","values":{"cloudCover":17.97,"humidity":51.84,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":22.32,"temperatureApparent":22.32,"temperatureMax":22.32,"temperatureMin":22.32,"weatherCode":1100,"windDirection":183.65,"windGust":4.2,"windSpeed":2.37}},{"startTime":"2023-07-16T19:00:00-03:00","values":{"cloudCover":2.34,"humidity":59.41,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":20.17,"temperatureApparent":20.17,"temperatureMax":20.17,"temperatureMin":20.17,"weatherCode":1000,"windDirection":154.88,"windGust":5.29,"windSpeed":3.01}},{"startTime":"2023-07-16T20:00:00-03:00","values":{"cloudCover":0.78,"humidity":60.61,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":18.96,"temperatureApparent":18.96,"temperatureMax":18.96,"temperatureMin":18.96,"weatherCode":1000,"windDirection":142.9,"windGust":4.77,"windSpeed":2.77}},{"startTime":"2023-07-16T21:00:00-03:00","values":{"cloudCover":2.34,"humidity":58.62,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":18.44,"temperatureApparent":18.44,"temperatureMax":18.44,"temperatureMin":18.44,"weatherCode":1000,"windDirection":145.91,"windGust":4.44,"windSpeed":2.6}},{"startTime":"2023-07-16T22:00:00-03:00","values":{"cloudCover":7.81,"humidity":60.04,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":17.63,"temperatureApparent":17.63,"temperatureMax":17.63,"temperatureMin":17.63,"weatherCode":1000,"windDirection":136.2,"windGust":3.36,"windSpeed":2.05}},{"startTime":"2023-07-16T23:00:00-03:00","values":{"cloudCover":39.36,"humidity":62.08,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-16T09:59:00Z","sunsetTime":"2023-07-16T21:03:00Z","temperature":16.76,"temperatureApparent":16.76,"temperatureMax":16.76,"temperatureMin":16.76,"weatherCode":1101,"windDirection":134.45,"windGust":3.09,"windSpeed":1.96}},{"startTime":"2023-07-17T00:00:00-03:00","values":{"cloudCover":55.12,"humidity":61.75,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":16.41,"temperatureApparent":16.41,"temperatureMax":16.41,"temperatureMin":16.41,"weatherCode":1101,"windDirection":132.03,"windGust":3.47,"windSpeed":2.22}},{"startTime":"2023-07-17T01:00:00-03:00","values":{"cloudCover":66.07,"humidity":62.28,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":16.13,"temperatureApparent":16.13,"temperatureMax":16.13,"temperatureMin":16.13,"weatherCode":1102,"windDirection":135.39,"windGust":3.84,"windSpeed":2.48}},{"startTime":"2023-07-17T02:00:00-03:00","values":{"cloudCover":90.67,"humidity":63.36,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.9,"temperatureApparent":15.9,"temperatureMax":15.9,"temperatureMin":15.9,"weatherCode":1001,"windDirection":130.47,"windGust":3.48,"windSpeed":2.39}},{"startTime":"2023-07-17T03:00:00-03:00","values":{"cloudCover":91.06,"humidity":65.08,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.44,"temperatureApparent":15.44,"temperatureMax":15.44,"temperatureMin":15.44,"weatherCode":1001,"windDirection":120.85,"windGust":3.2,"windSpeed":2.2}},{"startTime":"2023-07-17T04:00:00-03:00","values":{"cloudCover":100,"humidity":65.77,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.19,"temperatureApparent":15.19,"temperatureMax":15.19,"temperatureMin":15.19,"weatherCode":1001,"windDirection":119.33,"windGust":2.87,"windSpeed":2.13}},{"startTime":"2023-07-17T05:00:00-03:00","values":{"cloudCover":100,"humidity":65.22,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.18,"temperatureApparent":15.18,"temperatureMax":15.18,"temperatureMin":15.18,"weatherCode":1001,"windDirection":120.99,"windGust":2.77,"windSpeed":2.17}},{"startTime":"2023-07-17T06:00:00-03:00","values":{"cloudCover":99.48,"humidity":64.21,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.17,"temperatureApparent":15.17,"temperatureMax":15.17,"temperatureMin":15.17,"weatherCode":1001,"windDirection":133.3,"windGust":2.79,"windSpeed":2.23}},{"startTime":"2023-07-17T07:00:00-03:00","values":{"cloudCover":92.49,"humidity":62.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":15.23,"temperatureApparent":15.23,"temperatureMax":15.23,"temperatureMin":15.23,"weatherCode":1001,"windDirection":138.97,"windGust":2.78,"windSpeed":2.3}},{"startTime":"2023-07-17T08:00:00-03:00","values":{"cloudCover":93.57,"humidity":62.34,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":16.31,"temperatureApparent":16.31,"temperatureMax":16.31,"temperatureMin":16.31,"weatherCode":1001,"windDirection":117.3,"windGust":3.17,"windSpeed":2.4}},{"startTime":"2023-07-17T09:00:00-03:00","values":{"cloudCover":93.88,"humidity":54.22,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":19.28,"temperatureApparent":19.28,"temperatureMax":19.28,"temperatureMin":19.28,"weatherCode":1001,"windDirection":105.39,"windGust":3.74,"windSpeed":2.34}},{"startTime":"2023-07-17T10:00:00-03:00","values":{"cloudCover":100,"humidity":46.69,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":22.04,"temperatureApparent":22.04,"temperatureMax":22.04,"temperatureMin":22.04,"weatherCode":1001,"windDirection":92.07,"windGust":3.45,"windSpeed":2.55}},{"startTime":"2023-07-17T11:00:00-03:00","values":{"cloudCover":77.31,"humidity":42.33,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":24.38,"temperatureApparent":24.38,"temperatureMax":24.38,"temperatureMin":24.38,"weatherCode":1001,"windDirection":66.55,"windGust":3.38,"windSpeed":2.84}},{"startTime":"2023-07-17T12:00:00-03:00","values":{"cloudCover":53.73,"humidity":40.06,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":25.91,"temperatureApparent":25.91,"temperatureMax":25.91,"temperatureMin":25.91,"weatherCode":1101,"windDirection":44.29,"windGust":3.54,"windSpeed":3.19}},{"startTime":"2023-07-17T13:00:00-03:00","values":{"cloudCover":42.31,"humidity":38.58,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":27.01,"temperatureApparent":26.8,"temperatureMax":27.01,"temperatureMin":27.01,"weatherCode":1101,"windDirection":32.34,"windGust":3.52,"windSpeed":3.2}},{"startTime":"2023-07-17T14:00:00-03:00","values":{"cloudCover":35.12,"humidity":37.13,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":27.87,"temperatureApparent":27.38,"temperatureMax":27.87,"temperatureMin":27.87,"weatherCode":1100,"windDirection":22.22,"windGust":3.35,"windSpeed":2.84}},{"startTime":"2023-07-17T15:00:00-03:00","values":{"cloudCover":30.34,"humidity":36.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":28.29,"temperatureApparent":27.66,"temperatureMax":28.29,"temperatureMin":28.29,"weatherCode":1100,"windDirection":19.06,"windGust":3.07,"windSpeed":2.41}},{"startTime":"2023-07-17T16:00:00-03:00","values":{"cloudCover":6.1,"humidity":36.24,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":28.3,"temperatureApparent":27.67,"temperatureMax":28.3,"temperatureMin":28.3,"weatherCode":1000,"windDirection":63.12,"windGust":2,"windSpeed":1.23}},{"startTime":"2023-07-17T17:00:00-03:00","values":{"cloudCover":6.58,"humidity":44.48,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":26.99,"temperatureApparent":27.09,"temperatureMax":26.99,"temperatureMin":26.99,"weatherCode":1000,"windDirection":176.1,"windGust":0.57,"windSpeed":0.46}},{"startTime":"2023-07-17T18:00:00-03:00","values":{"cloudCover":7.82,"humidity":47.46,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":23.79,"temperatureApparent":23.79,"temperatureMax":23.79,"temperatureMin":23.79,"weatherCode":1000,"windDirection":143.96,"windGust":1.48,"windSpeed":1.33}},{"startTime":"2023-07-17T19:00:00-03:00","values":{"cloudCover":17.84,"humidity":49.61,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":22.75,"temperatureApparent":22.75,"temperatureMax":22.75,"temperatureMin":22.75,"weatherCode":1100,"windDirection":142.8,"windGust":2.01,"windSpeed":2}},{"startTime":"2023-07-17T20:00:00-03:00","values":{"cloudCover":26.24,"humidity":50.93,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":22.2,"temperatureApparent":22.2,"temperatureMax":22.2,"temperatureMin":22.2,"weatherCode":1100,"windDirection":148.2,"windGust":2.19,"windSpeed":2.19}},{"startTime":"2023-07-17T21:00:00-03:00","values":{"cloudCover":32.07,"humidity":52.7,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":21.61,"temperatureApparent":21.61,"temperatureMax":21.61,"temperatureMin":21.61,"weatherCode":1100,"windDirection":155.33,"windGust":2.22,"windSpeed":2.16}},{"startTime":"2023-07-17T22:00:00-03:00","values":{"cloudCover":100,"humidity":54.57,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":21.09,"temperatureApparent":21.09,"temperatureMax":21.09,"temperatureMin":21.09,"weatherCode":1001,"windDirection":131.27,"windGust":2.13,"windSpeed":2.07}},{"startTime":"2023-07-17T23:00:00-03:00","values":{"cloudCover":100,"humidity":57.3,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-17T09:59:00Z","sunsetTime":"2023-07-17T21:03:00Z","temperature":20.47,"temperatureApparent":20.47,"temperatureMax":20.47,"temperatureMin":20.47,"weatherCode":1001,"windDirection":139.05,"windGust":2.56,"windSpeed":2.45}},{"startTime":"2023-07-18T00:00:00-03:00","values":{"cloudCover":100,"humidity":59.05,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":20.3,"temperatureApparent":20.3,"temperatureMax":20.3,"temperatureMin":20.3,"weatherCode":1001,"windDirection":135.97,"windGust":3.78,"windSpeed":3.18}},{"startTime":"2023-07-18T01:00:00-03:00","values":{"cloudCover":100,"humidity":60.17,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":20.14,"temperatureApparent":20.14,"temperatureMax":20.14,"temperatureMin":20.14,"weatherCode":1001,"windDirection":131.48,"windGust":4.3,"windSpeed":3.19}},{"startTime":"2023-07-18T02:00:00-03:00","values":{"cloudCover":100,"humidity":60.35,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.95,"temperatureApparent":19.95,"temperatureMax":19.95,"temperatureMin":19.95,"weatherCode":1001,"windDirection":115.04,"windGust":3.92,"windSpeed":3.13}},{"startTime":"2023-07-18T03:00:00-03:00","values":{"cloudCover":100,"humidity":60.25,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.79,"temperatureApparent":19.79,"temperatureMax":19.79,"temperatureMin":19.79,"weatherCode":1001,"windDirection":108.39,"windGust":3.09,"windSpeed":2.63}},{"startTime":"2023-07-18T04:00:00-03:00","values":{"cloudCover":100,"humidity":60.43,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.57,"temperatureApparent":19.57,"temperatureMax":19.57,"temperatureMin":19.57,"weatherCode":1001,"windDirection":113.78,"windGust":2.4,"windSpeed":2.15}},{"startTime":"2023-07-18T05:00:00-03:00","values":{"cloudCover":100,"humidity":60.05,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.46,"temperatureApparent":19.46,"temperatureMax":19.46,"temperatureMin":19.46,"weatherCode":1001,"windDirection":104.75,"windGust":1.94,"windSpeed":1.82}},{"startTime":"2023-07-18T06:00:00-03:00","values":{"cloudCover":100,"humidity":59.5,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.39,"temperatureApparent":19.39,"temperatureMax":19.39,"temperatureMin":19.39,"weatherCode":1001,"windDirection":74.75,"windGust":1.69,"windSpeed":1.67}},{"startTime":"2023-07-18T07:00:00-03:00","values":{"cloudCover":99.76,"humidity":60.36,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.02,"temperatureApparent":19.02,"temperatureMax":19.02,"temperatureMin":19.02,"weatherCode":1001,"windDirection":95.05,"windGust":1.75,"windSpeed":1.65}},{"startTime":"2023-07-18T08:00:00-03:00","values":{"cloudCover":99.43,"humidity":61.95,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":19.8,"temperatureApparent":19.8,"temperatureMax":19.8,"temperatureMin":19.8,"weatherCode":1001,"windDirection":92.06,"windGust":1.62,"windSpeed":1.6}},{"startTime":"2023-07-18T09:00:00-03:00","values":{"cloudCover":97.65,"humidity":54.67,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":22.05,"temperatureApparent":22.05,"temperatureMax":22.05,"temperatureMin":22.05,"weatherCode":1001,"windDirection":115.48,"windGust":1.54,"windSpeed":1.11}},{"startTime":"2023-07-18T10:00:00-03:00","values":{"cloudCover":100,"humidity":49.8,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":23.74,"temperatureApparent":23.74,"temperatureMax":23.74,"temperatureMin":23.74,"weatherCode":1001,"windDirection":60.28,"windGust":2.06,"windSpeed":1.66}},{"startTime":"2023-07-18T11:00:00-03:00","values":{"cloudCover":100,"humidity":45.77,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":25.11,"temperatureApparent":25.11,"temperatureMax":25.11,"temperatureMin":25.11,"weatherCode":1001,"windDirection":24.91,"windGust":2.52,"windSpeed":2.15}},{"startTime":"2023-07-18T12:00:00-03:00","values":{"cloudCover":100,"humidity":42.94,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":26.05,"temperatureApparent":26.05,"temperatureMax":26.05,"temperatureMin":26.05,"weatherCode":1001,"windDirection":43.09,"windGust":1.89,"windSpeed":1.58}},{"startTime":"2023-07-18T13:00:00-03:00","values":{"cloudCover":100,"humidity":39.87,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":27.51,"temperatureApparent":27.25,"temperatureMax":27.51,"temperatureMin":27.51,"weatherCode":1001,"windDirection":67.88,"windGust":0.95,"windSpeed":0.24}},{"startTime":"2023-07-18T14:00:00-03:00","values":{"cloudCover":100,"humidity":38.46,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":28.09,"temperatureApparent":27.64,"temperatureMax":28.09,"temperatureMin":28.09,"weatherCode":1001,"windDirection":217.72,"windGust":0.91,"windSpeed":0.57}},{"startTime":"2023-07-18T15:00:00-03:00","values":{"cloudCover":100,"humidity":38.12,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":28.21,"temperatureApparent":27.72,"temperatureMax":28.21,"temperatureMin":28.21,"weatherCode":1001,"windDirection":213.41,"windGust":1.62,"windSpeed":1.41}},{"startTime":"2023-07-18T16:00:00-03:00","values":{"cloudCover":99.9,"humidity":46.04,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":26.5,"temperatureApparent":26.5,"temperatureMax":26.5,"temperatureMin":26.5,"weatherCode":1001,"windDirection":213.41,"windGust":3.66,"windSpeed":2.3}},{"startTime":"2023-07-18T17:00:00-03:00","values":{"cloudCover":99.81,"humidity":53.97,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":24.8,"temperatureApparent":24.8,"temperatureMax":24.8,"temperatureMin":24.8,"weatherCode":1001,"windDirection":172.58,"windGust":5.7,"windSpeed":3.18}},{"startTime":"2023-07-18T18:00:00-03:00","values":{"cloudCover":99.71,"humidity":61.89,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":23.09,"temperatureApparent":23.09,"temperatureMax":23.09,"temperatureMin":23.09,"weatherCode":1001,"windDirection":172.58,"windGust":7.74,"windSpeed":4.06}},{"startTime":"2023-07-18T19:00:00-03:00","values":{"cloudCover":99.76,"humidity":61.26,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":22.83,"temperatureApparent":22.83,"temperatureMax":22.83,"temperatureMin":22.83,"weatherCode":1001,"windDirection":172.58,"windGust":9.4,"windSpeed":4.7}},{"startTime":"2023-07-18T20:00:00-03:00","values":{"cloudCover":99.81,"humidity":60.63,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":22.56,"temperatureApparent":22.56,"temperatureMax":22.56,"temperatureMin":22.56,"weatherCode":1001,"windDirection":137.33,"windGust":11.06,"windSpeed":5.34}},{"startTime":"2023-07-18T21:00:00-03:00","values":{"cloudCover":99.85,"humidity":60,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":22.3,"temperatureApparent":22.3,"temperatureMax":22.3,"temperatureMin":22.3,"weatherCode":1001,"windDirection":137.33,"windGust":12.72,"windSpeed":5.99}},{"startTime":"2023-07-18T22:00:00-03:00","values":{"cloudCover":99.9,"humidity":63.39,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":21.4,"temperatureApparent":21.4,"temperatureMax":21.4,"temperatureMin":21.4,"weatherCode":1001,"windDirection":137.33,"windGust":13.3,"windSpeed":6.3}},{"startTime":"2023-07-18T23:00:00-03:00","values":{"cloudCover":99.95,"humidity":66.79,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":1,"sunriseTime":"2023-07-18T09:59:00Z","sunsetTime":"2023-07-18T21:03:00Z","temperature":20.5,"temperatureApparent":20.5,"temperatureMax":20.5,"temperatureMin":20.5,"weatherCode":1001,"windDirection":117.96,"windGust":13.89,"windSpeed":6.62}}]},{"timestep":"current","endTime":"2023-07-14T00:41:00-03:00","startTime":"2023-07-14T00:41:00-03:00","intervals":[{"startTime":"2023-07-14T00:41:00-03:00","values":{"cloudCover":5,"humidity":85,"precipitationIntensity":0,"precipitationProbability":0,"precipitationType":0,"sunriseTime":"2023-07-14T09:59:00Z","sunsetTime":"2023-07-14T21:02:00Z","temperature":11.19,"temperatureApparent":11.19,"temperatureMax":11.19,"temperatureMin":11.19,"weatherCode":1000,"windDirection":211.13,"windGust":11.38,"windSpeed":6.13}}]}],"warnings":[{"code":246009,"type":"Missing Time Range","message":"The timestep is not supported in full for the time range requested.","meta":{"from":"-12h","to":"+12h","timestep":"current"}}]}}')

  const timelines = response.data.timelines

  return {
    current: current(timelines),
    hourly: hourly(timelines),
    daily: daily(timelines)
  }
}

function current(timelines: TimelineType[]): CurrentModel {
  const currentResponse: IntervalType = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === 'current'
  )[0].intervals[0]

  return new CurrentModel(flatten(currentResponse))
}

function hourly(timelines: TimelineType[]): HourModel[] {
  const hourly: HourModel[] = new Array<HourModel>()
  const hoursResponse: TimelineType[] = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === '1h'
  )

  hoursResponse[0].intervals.map((hour: IntervalType): void => {
    hourly.push(new HourModel(flatten(hour)))
  })

  return hourly
}

function daily(timelines: TimelineType[]): DayModel[] {
  const daily: DayModel[] = new Array<DayModel>()
  const daysResponse: TimelineType[] = timelines.filter(
    (timeline: TimelineType): boolean => timeline.timestep === '1d'
  )

  daysResponse[0].intervals.map((day: IntervalType): void => {
    daily.push(new DayModel(flatten(day)))
  })

  return daily
}
